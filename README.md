 >âš ï¸ ë³¸ í”„ë¡œì íŠ¸ëŠ” ëª…ë ¹ì–´ ê´€ë¦¬ í”„ë¡œê·¸ë¨ `ssu_crontab`ê³¼ ë™ê¸°í™” í”„ë¡œê·¸ë¨ `ssu_rsync`ë¡œ ë‚˜ë‰˜ì–´ì§‘ë‹ˆë‹¤.
 ><br/>ssu_crontab â–¶ï¸ ssu_rsync ìˆœì„œë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.
 <br/>

ì‹œìŠ¤í…œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ëª…ë ¹ì–´ë¥¼ êµ¬í˜„í•´ë´„ìœ¼ë¡œì¨ ì‰˜ì˜ ì›ë¦¬ë¥¼ ì´í•´í•˜ê³ , ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì—ì„œ ì œê³µí•˜ëŠ” ìë£Œêµ¬ì¡°ë¥¼ ì´ìš©í•´ í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•¨ìœ¼ë¡œì¨ ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì„¤ê³„ ë° ì‘ìš© ëŠ¥ë ¥ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•œ ëª©ì ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì„ ê°œë°œí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
<br/> <br/>


# ğŸ” ssu_crontab í”„ë¡œì íŠ¸ ê°œìš”

> ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œ ìƒì—ì„œ ì‚¬ìš©ìê°€ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê³ ì í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ë“±ë¡í•˜ê³  ì‹¤í–‰ì‹œì¼œì£¼ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.


## í”„ë¡œê·¸ë¨ ê¸°ë³¸ ì‚¬í•­

- **ì‚¬ìš©ìê°€ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ `ssu_crontab_file`ì— ì €ì¥ ë° ì‚­ì œí•˜ëŠ” í”„ë¡œê·¸ë¨**
    - í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì‹œ, ëª…ë ¹ì–´ë¥¼ ìˆ˜í–‰ í•  í”„ë¡¬í”„íŠ¸ ì¶œë ¥
    - add: `ssu_crontab_file`ì— ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•  ëª…ë ¹ì–´ ë“±ë¡
    - remove: `ssu_crontab_file`ì—ì„œ ì…ë ¥í•œ ë²ˆí˜¸ì˜ ëª…ë ¹ì–´ ì œê±°
    - exit: í”„ë¡œê·¸ë¨ ì¢…ë£Œ

- **ì£¼ê¸°ì ìœ¼ë¡œ `ssu_crontab_file`ì— ì €ì¥ëœ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ì‹œí‚¬ `ssu_crond` ë””ëª¬ í”„ë¡œê·¸ë¨**
    - `ssu_crontab_file`ì„ ì½ì–´ ì£¼ê¸°ì ìœ¼ë¡œ ëª…ë ¹ì–´ ì‹¤í–‰
    -  `ssu_crond`ë¥¼ í†µí•´ ëª…ë ¹ì–´ê°€ ìˆ˜í–‰ë˜ë©´ `ssu_crontab_log` ë¡œê·¸ íŒŒì¼ì— ë¡œê·¸ë¥¼ ë‚¨ê¹€
<br/>


# ğŸ” ì„¤ê³„

í”„ë¡œê·¸ë¨ì€ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•  ëª…ë ¹ì–´ë¥¼ ë“±ë¡í•˜ëŠ” `ssu_crontab`ê³¼ ë“±ë¡ëœ ëª…ë ¹ì–´ë¥¼ ì£¼ê¸°ì— ë§ê²Œ ì‹¤í–‰í•˜ëŠ” `ssu_crond`ë¡œ ë‚˜ë‰˜ì–´ì§‘ë‹ˆë‹¤. ëª…ë ¹ì–´ë¥¼ ì£¼ê¸°ì— ë§ê²Œ ì‹¤í–‰í•˜ëŠ” `ssu_crond` í”„ë¡œê·¸ë¨ì€ ë””ëª¬ í”„ë¡œì„¸ìŠ¤ë¡œ êµ¬í˜„í•˜ì˜€ìœ¼ë©° í”„ë¡¬í”„íŠ¸ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ëŠ” add, remove, exitì´ ìˆìŠµë‹ˆë‹¤.


## í•¨ìˆ˜ ê°„ Call Graph
`ssu_crontab`

![tab](https://user-images.githubusercontent.com/69866091/152023717-4bf74b04-bdde-4277-91b7-567f570bb7d2.png)

`ssu_crond`

![dd](https://user-images.githubusercontent.com/69866091/152023734-6ddc3d3f-fbe0-49a5-97fe-249c3ec30c8b.png)

  
## í•¨ìˆ˜ ê¸°ëŠ¥ë³„ íë¦„ë„
`ssu_crontab`

![tab_main](https://user-images.githubusercontent.com/69866091/152024822-5a968dd3-4e65-4674-afd7-7eea1c4303f1.png)

- void cmd_add(char execution_cycle[ ], char *instructions); <br/>
`ssu_crontab_file`ì— ì…ë ¥ë°›ì€ ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜

![add](https://user-images.githubusercontent.com/69866091/152025611-98fb8139-aa1d-490d-8531-713ba9cbacfa.png)

- void cmd_remove(char *command_number); <br/>
`ssu_crontab_file`ì—ì„œ ì¸ìë¡œ ì…ë ¥ë°›ì€ ë²ˆí˜¸ì˜ ëª…ë ¹ì–´ë¥¼ ì‚­ì œí•˜ëŠ” í•¨ìˆ˜

![remove](https://user-images.githubusercontent.com/69866091/152025754-7dcf2e25-d069-4059-8def-70ec4bd6b3eb.png)

`ssu_crond`

![d main](https://user-images.githubusercontent.com/69866091/152025889-c2c546c9-197b-4c5e-b26b-fe146b457a25.png)
<br/>
<br/>


# ğŸ” í…ŒìŠ¤íŠ¸ ë° ê²°ê³¼

> âœ¨[í…ŒìŠ¤íŠ¸ ê²°ê³¼](https://www.notion.so/crontab-e5f0696188f64771831292e2e822b086)
***
<br/>

# ğŸ” ssu_rsync í”„ë¡œì íŠ¸ ê°œìš”

> ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œ ìƒì—ì„œ ì‚¬ìš©ìê°€ ë™ê¸°í™”ë¥¼ ì›í•˜ëŠ” íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ë¥¼ ë™ê¸°í™”í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.


## í”„ë¡œê·¸ë¨ ê¸°ë³¸ ì‚¬í•­

- **ì¸ìë¡œ ì£¼ì–´ì§„ src íŒŒì¼ í˜¹ì€ ë””ë ‰í† ë¦¬ë¥¼ dst ë””ë ‰í† ë¦¬ì— ë™ê¸°í™”**

- **ë™ê¸°í™”ê°€ ëª¨ë‘ ì™„ë£Œë˜ë©´ `ssu_rsync_log` ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡**
<br/>


# ğŸ” ì„¤ê³„

ë™ì¼í•œ íŒŒì¼ì— ëŒ€í•´ì„œëŠ” ë™ê¸°í™”ë¥¼ ì§„í–‰í•˜ì§€ ì•Šë„ë¡ í–ˆìŠµë‹ˆë‹¤. ì´ë•Œ, ë™ì¼í•œ íŒŒì¼ì˜ ê¸°ì¤€ì€ íŒŒì¼ ì´ë¦„, íŒŒì¼ í¬ê¸°, ìˆ˜ì • ì‹œê°„ì…ë‹ˆë‹¤.
<br/>ë™ê¸°í™” ì‘ì—… ë„ì¤‘ì— SIGINT ì‹œê·¸ë„ì´ ë°œìƒí•˜ë©´ ë™ê¸°í™”ë¥¼ ì·¨ì†Œí•˜ë„ë¡ í•˜ì˜€ê³ , ë™ê¸°í™” ë„ì¤‘ì— íŒŒì¼ì„ opení•˜ì§€ ëª»í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.


## í•¨ìˆ˜ ê°„ Call Graph
![call](https://user-images.githubusercontent.com/69866091/152036109-a68a6221-87d2-4023-8dcf-c1ba69931e0c.png)

  
## í•¨ìˆ˜ ê¸°ëŠ¥ë³„ íë¦„ë„
![main](https://user-images.githubusercontent.com/69866091/152036185-47d45b1e-cc99-4d09-a25c-332eaceb78d2.png)

- void do_rsync(char *argv[ ]); <br/>
srcê°€ íŒŒì¼ì¸ ê²½ìš°ì™€ ë””ë ‰í† ë¦¬ì¸ ê²½ìš°ë¡œ ë‚˜ëˆ„ì–´ì„œ dst ë””ë ‰í† ë¦¬ì— íŒŒì¼ì„ ë™ê¸°í™”í•˜ëŠ” í•¨ìˆ˜. ë‹¨, dstì— ë™ì¼í•œ íŒŒì¼ì´ ìˆëŠ” ê²½ìš°ì—ëŠ” ë™ê¸°í™”ë¥¼ ì§„í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.

![do_rsync](https://user-images.githubusercontent.com/69866091/152036566-2b3149e8-dbaa-485c-827b-84adef13a7c4.png)

- void remove_copy_dst(char *argv[ ]); <br/>
ë™ê¸°í™” ë„ì¤‘ì— SIGINT ì‹œê·¸ë„ì„ ë°›ì§€ ì•Šì•„ ì •ìƒì ìœ¼ë¡œ ë™ê¸°í™”ë¥¼ ì§„í–‰í–ˆì„ ê²½ìš°, copyí•´ë’€ë˜ dst ë””ë ‰í† ë¦¬ë¥¼ ì‚­ì œí•˜ëŠ” í•¨ìˆ˜

![remove_copy](https://user-images.githubusercontent.com/69866091/152036813-6c3afca8-08af-4b5a-be99-cb3b267e6542.png)

- static void ssu_signal_handler(int signo); <br/>
ë™ê¸°í™” ë„ì¤‘ì— SIGINT ì‹œê·¸ë„ì„ ë°›ì•˜ì„ ê²½ìš°, dst ë””ë ‰í† ë¦¬ì˜ ë‚´ìš©ì„ ì „ë¶€ ì‚­ì œí•˜ê³  copy í•´ë’€ë˜ ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ì„ dst ë””ë ‰í† ë¦¬ë¡œ ì˜®ê¸°ëŠ” í•¨ìˆ˜

![signal](https://user-images.githubusercontent.com/69866091/152036983-190f14ca-cb1e-42b6-a50b-0f18e7901a57.png)
<br/>
<br/>


# ğŸ” í…ŒìŠ¤íŠ¸ ë° ê²°ê³¼

> âœ¨[í…ŒìŠ¤íŠ¸ ê²°ê³¼](https://www.notion.so/rsync-5b21b9edccd948cd8529b07eff17f2d3)
